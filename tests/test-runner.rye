
root-ctx: current-ctx

test-framework: context {
	
	group: fn { name code } { print "GROUP: " + to-string name do code }

	equal: fn { test res } {
		do-in root-ctx test :got = res
		|either { print " - OK" } { prn " - Error: expected" prn res prn " , got " print got }
	}

	true: fn { test } {
		do-in root-ctx test
		|either { print " - OK" } { print " - Error: not True" }
	}

}

; load and do the tests

do-in test-framework load %builtins.rye

